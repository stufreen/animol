<html>

<head>
  <title>Animol: Bubble</title>
  <link rel="stylesheet" type="text/css" href="theme.css">
  <script src="animol.min.js"></script>
  <style>
    .click-bubble {
      width: 10em;
      height: 10em;
      border-radius: 15em;
      background-color: rgb(50, 90, 120);
      appearance: none;
      border: none;
      margin: 10em;
      box-shadow: 0 0 rgba(0, 0, 0, 0);
      cursor: pointer;
    }

    .click-bubble:hover {
      outline: none;
      background-color: rgb(65, 104, 134);
    }

    .click-bubble:focus {
      outline: none;
    }
  </style>
</head>

<body>
  <h1>Click the bubble</h1>
  <button id="my-button" class="click-bubble"></button>
  <script>
    const myButton = document.getElementById('my-button');

    let isOpen = false;

    myButton.addEventListener('click', (evt) => {

      if (isOpen) {
        isOpen = false;
        animol.css(
          myButton,
          3000,
          {},
          { transform: { scaleX: 1, scaleY: 1 } },
          animol.Easing.easeOutElastic(1),
          0
        );
        animol.ease(
          (progress) => {
            myButton.style.boxShadow = `1px ${(1 - progress) * 5}px 1px 1px rgba(0, 0, 0, 0.2)`;
          },
          3000,
          animol.Easing.easeOutElastic(1)
        );
      } else {
        isOpen = true;
        animol.css(
          myButton,
          3000,
          {},
          { transform: { scaleX: 2, scaleY: 2 } },
          animol.Easing.easeOutElastic(1),
          0
        );
        animol.ease(
          (progress) => {
            myButton.style.boxShadow = `1px ${progress * 5}px 1px 1px rgba(0, 0, 0, 0.2)`;
          },
          3000,
          animol.Easing.easeOutElastic(1)
        );
      }
      
    });
  </script>
</body>

</html>